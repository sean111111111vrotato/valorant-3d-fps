<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VALORANT 3D FPS</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="hud">
  Gun: <span id="gunName">Vandal</span> | 
  Ammo: <span id="ammo">25</span> / <span id="reserve">75</span> | 
  HP: <span id="hp">100</span>
</div>
<div id="crosshair"></div>

<!-- Three.js module version works on GitHub Pages -->
<script type="module">

import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js';
import { PointerLockControls } from 'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/PointerLockControls.js';

// -------------------
// Scene & Camera
// -------------------
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x0f1923);

const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0,1.6,5);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Light
const light = new THREE.DirectionalLight(0xffffff,1);
light.position.set(5,10,7);
scene.add(light);

// Floor
const floor = new THREE.Mesh(new THREE.PlaneGeometry(50,50), new THREE.MeshStandardMaterial({color:0x222222}));
floor.rotation.x = -Math.PI/2;
scene.add(floor);

// -------------------
// Controls
// -------------------
const controls = new PointerLockControls(camera, renderer.domElement);
document.body.addEventListener("click", ()=> controls.lock());
scene.add(controls.getObject());

// -------------------
// Gun cube
// -------------------
const gunMesh = new THREE.Mesh(
  new THREE.BoxGeometry(0.4,0.2,1),
  new THREE.MeshStandardMaterial({color:0x333333})
);
gunMesh.position.set(0.3,-0.3,-0.8);
camera.add(gunMesh);

// -------------------
// HUD
// -------------------
let player = { hp:100, gunName:"Vandal", ammo:25, reserve:75 };
const gunNameEl = document.getElementById("gunName");
const ammoEl = document.getElementById("ammo");
const reserveEl = document.getElementById("reserve");
const hpEl = document.getElementById("hp");

function updateHUD() {
  gunNameEl.textContent = player.gunName;
  ammoEl.textContent = player.ammo;
  reserveEl.textContent = player.reserve;
  hpEl.textContent = player.hp;
}

// -------------------
// Animation Loop
// -------------------
const move = { forward:false, back:false, left:false, right:false };

document.addEventListener("keydown", e=>{
  if(e.key==="w") move.forward=true;
  if(e.key==="s") move.back=true;
  if(e.key==="a") move.left=true;
  if(e.key==="d") move.right=true;
});
document.addEventListener("keyup", e=>{
  if(e.key==="w") move.forward=false;
  if(e.key==="s") move.back=false;
  if(e.key==="a") move.left=false;
  if(e.key==="d") move.right=false;
});

function animate(){
  requestAnimationFrame(animate);

  // simple movement
  const speed=0.1;
  if(move.forward) controls.moveForward(speed);
  if(move.back) controls.moveForward(-speed);
  if(move.left) controls.moveRight(-speed);
  if(move.right) controls.moveRight(-speed);

  renderer.render(scene, camera);
}
animate();

// -------------------
// Handle Resize
// -------------------
window.addEventListener("resize", ()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});

</script>
</body>
</html>
